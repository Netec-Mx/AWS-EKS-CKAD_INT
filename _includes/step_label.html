{%- comment -%}
Emite "Paso N." autoincremental.
Uso típico: - {% include step_label.html %} Texto del paso…

Parámetros:
  step      : número fijo (opcional; si no, autoincrementa)
  start_at  : primer número cuando autoincrementa (default: 1)
  prefix    : texto antes del número (default: "Paso")
  suffix    : texto después del número (default: ".")
  bold      : "true"/"false" => **negritas** (default: true)
  series    : secuencia alternativa: "a" (default), "b", "c", "d"
              (sirve para reiniciar numeración en la misma página)
{%- endcomment -%}

{%- assign prefix = include.prefix | default: "Paso" -%}
{%- assign suffix = include.suffix | default: "." -%}
{%- assign bold   = include.bold   | default: "true" -%}
{%- assign start  = include.start_at | default: 1 | plus: 0 -%}
{%- assign series = include.series | default: "a" -%}

{%- if include.step -%}
  {%- assign n = include.step | plus: 0 -%}
{%- else -%}
  {%- if series == "a" -%}
    {%- capture _i %}{% increment step_text_counter_a %}{% endcapture -%}
  {%- elsif series == "b" -%}
    {%- capture _i %}{% increment step_text_counter_b %}{% endcapture -%}
  {%- elsif series == "c" -%}
    {%- capture _i %}{% increment step_text_counter_c %}{% endcapture -%}
  {%- else -%}
    {%- capture _i %}{% increment step_text_counter_d %}{% endcapture -%}
  {%- endif -%}
  {%- assign n = _i | plus: start -%}
{%- endif -%}

{%- capture label -%}{{ prefix }} {{ n }}{{ suffix }}{%- endcapture -%}
{%- if bold == "true" -%}**{{ label }}**{%- else -%}{{ label }}{%- endif -%} 
